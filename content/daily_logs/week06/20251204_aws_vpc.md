---
title: "2025.12.04 (Day 29) [AWS VPC: ë„¤íŠ¸ì›Œí¬ êµ¬ì„± ë° ì—°ê²°]"
date: 2025-12-04
draft: false
tags: ["AWS", "VPC", "ë„¤íŠ¸ì›Œí¬", "ë³´ì•ˆê·¸ë£¹", "SKì‰´ë”ìŠ¤ë£¨í‚¤ì¦ˆ"]
categories: ["daily-logs"]
summary: "AWS VPC êµ¬ì„±(ì„œë¸Œë„·, IGW, NAT Gateway, ë¼ìš°íŒ… í…Œì´ë¸”), ë³´ì•ˆ ê·¸ë£¹/NACL, VPC Peering, Transit Gateway ì‹¤ìŠµ"
---

# ğŸ“„ 2025.12.04 (Day 29) [AWS VPC: ë„¤íŠ¸ì›Œí¬ êµ¬ì„± ë° ì—°ê²°]

## 1. í•µì‹¬ ê°œë… ì •ë¦¬ (Concepts & Theory)

| # | í•µì‹¬ ê°œë… | ê°„ê²°í•œ ì„¤ëª… |
|:---:|:---|:---|
| **1** | **Amazon VPC (Virtual Private Cloud)** | AWS í´ë¼ìš°ë“œ ë‚´ì—ì„œ **ë…¼ë¦¬ì ìœ¼ë¡œ ê²©ë¦¬ëœ ê°€ìƒ ë„¤íŠ¸ì›Œí¬** ë¥¼ ìƒì„±í•˜ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì •ì˜í•œ IP ì£¼ì†Œ ë²”ìœ„(CIDR ë¸”ë¡), ì„œë¸Œë„·, ë¼ìš°íŒ… í…Œì´ë¸”, ê²Œì´íŠ¸ì›¨ì´ë¥¼ êµ¬ì„±í•˜ì—¬ ì™„ì „í•œ ì œì–´ ê¶Œí•œì„ ê°€ì§‘ë‹ˆë‹¤. On-Premise ë°ì´í„°ì„¼í„°ì²˜ëŸ¼ ë„¤íŠ¸ì›Œí¬ë¥¼ ì„¤ê³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. |
| **2** | **CIDR (Classless Inter-Domain Routing)** | IP ì£¼ì†Œ ë²”ìœ„ë¥¼ í‘œê¸°í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ **IPì£¼ì†Œ/ì„œë¸Œë„· ë§ˆìŠ¤í¬** í˜•íƒœì…ë‹ˆë‹¤. ì˜ˆ: 10.0.0.0/16ì€ 10.0.0.0 ~ 10.0.255.255 (65,536ê°œ IP). /16ì€ ì• 16ë¹„íŠ¸ê°€ ë„¤íŠ¸ì›Œí¬ ë¶€ë¶„ì´ê³ , ë‚˜ë¨¸ì§€ 16ë¹„íŠ¸ê°€ í˜¸ìŠ¤íŠ¸ ë¶€ë¶„ì…ë‹ˆë‹¤. VPC ìƒì„± ì‹œ CIDR ë¸”ë¡ì„ ì§€ì •í•©ë‹ˆë‹¤. |
| **3** | **ì„œë¸Œë„· (Subnet)** | VPC ë‚´ì—ì„œ IP ì£¼ì†Œ ë²”ìœ„ë¥¼ ë” ì‘ì€ ë‹¨ìœ„ë¡œ ë¶„í• í•œ ë„¤íŠ¸ì›Œí¬ ì„¸ê·¸ë¨¼íŠ¸ì…ë‹ˆë‹¤. ê° ì„œë¸Œë„·ì€ **í•˜ë‚˜ì˜ ê°€ìš© ì˜ì—­(AZ)** ì— ì†í•˜ë©°, **Public Subnet** (ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ì—°ê²°)ê³¼ **Private Subnet** (ì¸í„°ë„· ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€)ìœ¼ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤. |
| **4** | **ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ (Internet Gateway, IGW)** | VPCì™€ ì¸í„°ë„· ê°„ **ì–‘ë°©í–¥ í†µì‹ ** ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê²Œì´íŠ¸ì›¨ì´ì…ë‹ˆë‹¤. Public Subnetì˜ ë¼ìš°íŒ… í…Œì´ë¸”ì— IGWë¥¼ ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´(0.0.0.0/0)ë¡œ ì„¤ì •í•˜ì—¬ ì¸í„°ë„· ì ‘ì†ì„ í—ˆìš©í•©ë‹ˆë‹¤. ìˆ˜í‰ í™•ì¥ ê°€ëŠ¥í•˜ê³  ê³ ê°€ìš©ì„±ì´ ë³´ì¥ë©ë‹ˆë‹¤. |
| **5** | **NAT Gateway / NAT Instance** | **Private Subnetì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì¸í„°ë„·ì— ì•„ì›ƒë°”ìš´ë“œ ì—°ê²°** (ì˜ˆ: ì†Œí”„íŠ¸ì›¨ì–´ ì—…ë°ì´íŠ¸, API í˜¸ì¶œ)ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ì§€ë§Œ, **ì¸ë°”ìš´ë“œ ì—°ê²°ì€ ì°¨ë‹¨** í•©ë‹ˆë‹¤. NAT GatewayëŠ” AWS ê´€ë¦¬í˜• ì„œë¹„ìŠ¤(ê³ ê°€ìš©ì„±, ìë™ í™•ì¥), NAT InstanceëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤(ì‚¬ìš©ì ê´€ë¦¬). |
| **6** | **ë¼ìš°íŒ… í…Œì´ë¸” (Route Table)** | **ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì˜ ê²½ë¡œë¥¼ ê²°ì •** í•˜ëŠ” ê·œì¹™ ì§‘í•©ì…ë‹ˆë‹¤. ê° ì„œë¸Œë„·ì€ í•˜ë‚˜ì˜ ë¼ìš°íŒ… í…Œì´ë¸”ê³¼ ì—°ê²°ë˜ë©°, ëª©ì ì§€ IP ë²”ìœ„(Destination)ì™€ íƒ€ê²Ÿ(Target: IGW, NAT Gateway, VPC Peering ë“±)ì„ ì •ì˜í•©ë‹ˆë‹¤. ê°€ì¥ êµ¬ì²´ì ì¸ ê²½ë¡œ(Longest Prefix Match)ê°€ ìš°ì„  ì ìš©ë©ë‹ˆë‹¤. |
| **7** | **ë³´ì•ˆ ê·¸ë£¹ (Security Group)** | EC2 ì¸ìŠ¤í„´ìŠ¤ ë“± ë¦¬ì†ŒìŠ¤ì— ì—°ê²°ë˜ëŠ” **ê°€ìƒ ë°©í™”ë²½** ìœ¼ë¡œ, **ìƒíƒœ ì €ì¥í˜•(Stateful)** ì…ë‹ˆë‹¤. ì¸ë°”ìš´ë“œ/ì•„ì›ƒë°”ìš´ë“œ ê·œì¹™ì„ ì •ì˜í•˜ë©°, ê¸°ë³¸ì ìœ¼ë¡œ **ëª¨ë“  ì¸ë°”ìš´ë“œ ì°¨ë‹¨, ëª¨ë“  ì•„ì›ƒë°”ìš´ë“œ í—ˆìš©** ì…ë‹ˆë‹¤. Allow ê·œì¹™ë§Œ ì •ì˜ ê°€ëŠ¥(Deny ë¶ˆê°€). |
| **8** | **ë„¤íŠ¸ì›Œí¬ ACL (NACL, Network Access Control List)** | ì„œë¸Œë„· ë ˆë²¨ì—ì„œ ì‘ë™í•˜ëŠ” **ë¬´ìƒíƒœí˜•(Stateless) ë°©í™”ë²½** ì…ë‹ˆë‹¤. ì¸ë°”ìš´ë“œ/ì•„ì›ƒë°”ìš´ë“œ ê·œì¹™ì„ ë²ˆí˜¸ ìˆœì„œëŒ€ë¡œ í‰ê°€í•˜ë©°, **Allowì™€ Deny ëª¨ë‘ ì •ì˜ ê°€ëŠ¥** í•©ë‹ˆë‹¤. ì‘ë‹µ íŠ¸ë˜í”½ë„ ëª…ì‹œì  ê·œì¹™ í•„ìš”. |
| **9** | **VPC Peering** | **ë‘ VPC ê°„ í”„ë¼ì´ë¹— ë„¤íŠ¸ì›Œí¬ ì—°ê²°** ì„ ì œê³µí•©ë‹ˆë‹¤. AWS ë°±ë³¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ VPCê°€ ê°™ì€ ë„¤íŠ¸ì›Œí¬ì— ìˆëŠ” ê²ƒì²˜ëŸ¼ í†µì‹ . ë¦¬ì „ ê°„(Inter-Region) ë˜ëŠ” ê³„ì • ê°„(Cross-Account) Peering ê°€ëŠ¥. CIDR ë¸”ë¡ì´ ê²¹ì¹˜ë©´ ì•ˆ ë©ë‹ˆë‹¤. **ë¹„ì „ì´ì (Non-transitive)**: A-B, B-C Peering ì‹œ A-C ì§ì ‘ í†µì‹  ë¶ˆê°€. |
| **10** | **AWS Transit Gateway** | **ì—¬ëŸ¬ VPCì™€ On-Premise ë„¤íŠ¸ì›Œí¬ë¥¼ ì¤‘ì•™ í—ˆë¸Œë¡œ ì—°ê²°** í•˜ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ìˆ˜ì²œ ê°œì˜ VPCë¥¼ í•˜ë‚˜ì˜ Transit Gatewayì— ì—°ê²° ê°€ëŠ¥í•˜ë©°, ë¼ìš°íŒ…ì„ ì¤‘ì•™ ì§‘ì¤‘ì‹ìœ¼ë¡œ ê´€ë¦¬. VPC Peeringì˜ í’€ ë©”ì‰¬ ë³µì¡ë„ í•´ê²°. |
| **11** | **VPC Endpoint** | VPC ë‚´ ë¦¬ì†ŒìŠ¤ê°€ **ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´, NAT, VPN ì—†ì´ AWS ì„œë¹„ìŠ¤ì— í”„ë¼ì´ë¹— ì—°ê²°** í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. **Interface Endpoint** (ENI ê¸°ë°˜, PrivateLink ì‚¬ìš©, ëŒ€ë¶€ë¶„ ì„œë¹„ìŠ¤ ì§€ì›)ì™€ **Gateway Endpoint** (S3, DynamoDBë§Œ ì§€ì›, ë¬´ë£Œ)ë¡œ êµ¬ë¶„. |
| **12** | **VPN (Virtual Private Network)** | On-Premise ë„¤íŠ¸ì›Œí¬ì™€ AWS VPCë¥¼ **ì•”í˜¸í™”ëœ í„°ë„ë¡œ ì—°ê²°** í•©ë‹ˆë‹¤. **Site-to-Site VPN** (On-Premise ë¼ìš°í„° â†” AWS VGW)ê³¼ **Client VPN** (ê°œë³„ ì‚¬ìš©ì â†” VPC) ì œê³µ. IPsec í”„ë¡œí† ì½œ ì‚¬ìš©. |
| **13** | **AWS Direct Connect** | On-Premiseì™€ AWS ê°„ **ì „ìš© ë¬¼ë¦¬ì  ë„¤íŠ¸ì›Œí¬ ì—°ê²°** ì„ ì œê³µí•©ë‹ˆë‹¤. ì¸í„°ë„·ì„ ê²½ìœ í•˜ì§€ ì•Šì•„ ì¼ê´€ëœ ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥, ë†’ì€ ëŒ€ì—­í­(1Gbps ~ 100Gbps), ë‚®ì€ ì§€ì—°ì‹œê°„ ì œê³µ. |

---

## 2. ì‹¤ìŠµ ì½”ë“œ & ì‘ìš© (Practice & Code Walkthrough)

### (A) VPC ìƒì„± ë° ê¸°ë³¸ êµ¬ì„±

**VPC ìƒì„± (AWS CLI):**
```bash
# VPC ìƒì„±
aws ec2 create-vpc \
  --cidr-block 10.0.0.0/16 \
  --tag-specifications 'ResourceType=vpc,Tags=[{Key=Name,Value=my-vpc}]'

# ì¶œë ¥: VPC ID í™•ì¸ (ì˜ˆ: vpc-0abcd1234efgh5678)

# VPC ì •ë³´ ì¡°íšŒ
aws ec2 describe-vpcs --vpc-ids vpc-0abcd1234efgh5678

# DNS í˜¸ìŠ¤íŠ¸ ì´ë¦„ í™œì„±í™” (ì¤‘ìš”: EC2 ì¸ìŠ¤í„´ìŠ¤ì— DNS ì´ë¦„ ë¶€ì—¬)
aws ec2 modify-vpc-attribute \
  --vpc-id vpc-0abcd1234efgh5678 \
  --enable-dns-hostnames
```

**CIDR ê³„ì‚° ì˜ˆì‹œ:**
```
10.0.0.0/16:
- ë„¤íŠ¸ì›Œí¬ ë¶€ë¶„: 10.0 (16ë¹„íŠ¸ ê³ ì •)
- í˜¸ìŠ¤íŠ¸ ë¶€ë¶„: 0.0 ~ 255.255 (16ë¹„íŠ¸ ê°€ë³€)
- IP ë²”ìœ„: 10.0.0.0 ~ 10.0.255.255
- ì‚¬ìš© ê°€ëŠ¥ IP: 65,536ê°œ - 5ê°œ(AWS ì˜ˆì•½) = 65,531ê°œ

10.0.1.0/24:
- ë„¤íŠ¸ì›Œí¬ ë¶€ë¶„: 10.0.1 (24ë¹„íŠ¸ ê³ ì •)
- í˜¸ìŠ¤íŠ¸ ë¶€ë¶„: 0 ~ 255 (8ë¹„íŠ¸ ê°€ë³€)
- IP ë²”ìœ„: 10.0.1.0 ~ 10.0.1.255
- ì‚¬ìš© ê°€ëŠ¥ IP: 256ê°œ - 5ê°œ(AWS ì˜ˆì•½) = 251ê°œ

AWS ì˜ˆì•½ IP (ê° ì„œë¸Œë„·ë§ˆë‹¤):
- 10.0.1.0: ë„¤íŠ¸ì›Œí¬ ì£¼ì†Œ
- 10.0.1.1: VPC ë¼ìš°í„°
- 10.0.1.2: DNS ì„œë²„
- 10.0.1.3: í–¥í›„ ì‚¬ìš© ì˜ˆì•½
- 10.0.1.255: ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì£¼ì†Œ (VPCì—ì„œëŠ” ë¯¸ì§€ì›ì´ì§€ë§Œ ì˜ˆì•½)
```

### (B) ì„œë¸Œë„· ìƒì„± (Public & Private)

**Public Subnet ìƒì„±:**
```bash
# Public Subnet 1 (AZ-A)
aws ec2 create-subnet \
  --vpc-id vpc-0abcd1234efgh5678 \
  --cidr-block 10.0.1.0/24 \
  --availability-zone ap-northeast-2a \
  --tag-specifications 'ResourceType=subnet,Tags=[{Key=Name,Value=public-subnet-1}]'

# Public Subnet 2 (AZ-C, ê³ ê°€ìš©ì„±)
aws ec2 create-subnet \
  --vpc-id vpc-0abcd1234efgh5678 \
  --cidr-block 10.0.2.0/24 \
  --availability-zone ap-northeast-2c \
  --tag-specifications 'ResourceType=subnet,Tags=[{Key=Name,Value=public-subnet-2}]'

# Public IP ìë™ í• ë‹¹ í™œì„±í™”
aws ec2 modify-subnet-attribute \
  --subnet-id subnet-0xyz123 \
  --map-public-ip-on-launch
```

**Private Subnet ìƒì„±:**
```bash
# Private Subnet 1 (AZ-A)
aws ec2 create-subnet \
  --vpc-id vpc-0abcd1234efgh5678 \
  --cidr-block 10.0.11.0/24 \
  --availability-zone ap-northeast-2a \
  --tag-specifications 'ResourceType=subnet,Tags=[{Key=Name,Value=private-subnet-1}]'

# Private Subnet 2 (AZ-C)
aws ec2 create-subnet \
  --vpc-id vpc-0abcd1234efgh5678 \
  --cidr-block 10.0.12.0/24 \
  --availability-zone ap-northeast-2c \
  --tag-specifications 'ResourceType=subnet,Tags=[{Key=Name,Value=private-subnet-2}]'
```

**ì„œë¸Œë„· ì„¤ê³„ ì˜ˆì‹œ:**
```
VPC: 10.0.0.0/16

Public Subnets (ì¸í„°ë„· ì—°ê²°):
- 10.0.1.0/24 (ap-northeast-2a) â†’ ì›¹ ì„œë²„, ë¡œë“œ ë°¸ëŸ°ì„œ
- 10.0.2.0/24 (ap-northeast-2c) â†’ ì›¹ ì„œë²„, ë¡œë“œ ë°¸ëŸ°ì„œ

Private Subnets (ì• í”Œë¦¬ì¼€ì´ì…˜):
- 10.0.11.0/24 (ap-northeast-2a) â†’ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„
- 10.0.12.0/24 (ap-northeast-2c) â†’ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„

Private Subnets (ë°ì´í„°ë² ì´ìŠ¤):
- 10.0.21.0/24 (ap-northeast-2a) â†’ RDS, ElastiCache
- 10.0.22.0/24 (ap-northeast-2c) â†’ RDS, ElastiCache
```

### (C) ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ë° NAT Gateway ì„¤ì •

**ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ (IGW) ì„¤ì •:**
```bash
# IGW ìƒì„±
aws ec2 create-internet-gateway \
  --tag-specifications 'ResourceType=internet-gateway,Tags=[{Key=Name,Value=my-igw}]'

# ì¶œë ¥: igw-0abc123def456789

# VPCì— IGW ì—°ê²°
aws ec2 attach-internet-gateway \
  --internet-gateway-id igw-0abc123def456789 \
  --vpc-id vpc-0abcd1234efgh5678
```

**NAT Gateway ì„¤ì •:**
```bash
# 1. Public Subnetì— Elastic IP í• ë‹¹
aws ec2 allocate-address --domain vpc
# ì¶œë ¥: AllocationId: eipalloc-0xyz123

# 2. NAT Gateway ìƒì„± (Public Subnetì— ë°°ì¹˜)
aws ec2 create-nat-gateway \
  --subnet-id subnet-0xyz123 \
  --allocation-id eipalloc-0xyz123 \
  --tag-specifications 'ResourceType=nat-gateway,Tags=[{Key=Name,Value=my-nat-gateway}]'

# ì¶œë ¥: nat-0abc123def (ìƒíƒœ: pending â†’ availableê¹Œì§€ ëŒ€ê¸°)

# NAT Gateway ìƒíƒœ í™•ì¸
aws ec2 describe-nat-gateways --nat-gateway-ids nat-0abc123def

# ê³ ê°€ìš©ì„±: ê° AZë§ˆë‹¤ NAT Gateway ìƒì„± ê¶Œì¥
```

### (D) ë¼ìš°íŒ… í…Œì´ë¸” êµ¬ì„±

**Public Subnet ë¼ìš°íŒ… í…Œì´ë¸”:**
```bash
# ë¼ìš°íŒ… í…Œì´ë¸” ìƒì„±
aws ec2 create-route-table \
  --vpc-id vpc-0abcd1234efgh5678 \
  --tag-specifications 'ResourceType=route-table,Tags=[{Key=Name,Value=public-rt}]'

# ì¶œë ¥: rtb-0public123

# ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ë¡œ ê°€ëŠ” ê¸°ë³¸ ê²½ë¡œ ì¶”ê°€
aws ec2 create-route \
  --route-table-id rtb-0public123 \
  --destination-cidr-block 0.0.0.0/0 \
  --gateway-id igw-0abc123def456789

# Public Subnetê³¼ ë¼ìš°íŒ… í…Œì´ë¸” ì—°ê²°
aws ec2 associate-route-table \
  --route-table-id rtb-0public123 \
  --subnet-id subnet-0xyz123  # public-subnet-1

aws ec2 associate-route-table \
  --route-table-id rtb-0public123 \
  --subnet-id subnet-0xyz456  # public-subnet-2
```

**Private Subnet ë¼ìš°íŒ… í…Œì´ë¸”:**
```bash
# Private ë¼ìš°íŒ… í…Œì´ë¸” ìƒì„±
aws ec2 create-route-table \
  --vpc-id vpc-0abcd1234efgh5678 \
  --tag-specifications 'ResourceType=route-table,Tags=[{Key=Name,Value=private-rt}]'

# ì¶œë ¥: rtb-0private456

# NAT Gatewayë¡œ ê°€ëŠ” ê¸°ë³¸ ê²½ë¡œ ì¶”ê°€
aws ec2 create-route \
  --route-table-id rtb-0private456 \
  --destination-cidr-block 0.0.0.0/0 \
  --nat-gateway-id nat-0abc123def

# Private Subnetê³¼ ì—°ê²°
aws ec2 associate-route-table \
  --route-table-id rtb-0private456 \
  --subnet-id subnet-0private111  # private-subnet-1

aws ec2 associate-route-table \
  --route-table-id rtb-0private456 \
  --subnet-id subnet-0private222  # private-subnet-2
```

**ë¼ìš°íŒ… í…Œì´ë¸” êµ¬ì¡° ì˜ˆì‹œ:**
```
Public Route Table (rtb-0public123):
+-----------------------+---------------------+--------+
| Destination           | Target              | Status |
+-----------------------+---------------------+--------+
| 10.0.0.0/16           | local               | Active |
| 0.0.0.0/0             | igw-0abc123         | Active |
+-----------------------+---------------------+--------+

Private Route Table (rtb-0private456):
+-----------------------+---------------------+--------+
| Destination           | Target              | Status |
+-----------------------+---------------------+--------+
| 10.0.0.0/16           | local               | Active |
| 0.0.0.0/0             | nat-0abc123         | Active |
+-----------------------+---------------------+--------+

í•´ì„:
- 10.0.0.0/16 â†’ local: VPC ë‚´ë¶€ íŠ¸ë˜í”½ì€ ë¡œì»¬ ë¼ìš°íŒ…
- 0.0.0.0/0 â†’ igw/nat: ì™¸ë¶€ ì¸í„°ë„· íŠ¸ë˜í”½ ê²½ë¡œ
```

### (E) ë³´ì•ˆ ê·¸ë£¹ ë° NACL ì„¤ì •

**ë³´ì•ˆ ê·¸ë£¹ ìƒì„± (ì›¹ ì„œë²„ìš©):**
```bash
# ë³´ì•ˆ ê·¸ë£¹ ìƒì„±
aws ec2 create-security-group \
  --group-name web-server-sg \
  --description "Security group for web servers" \
  --vpc-id vpc-0abcd1234efgh5678

# ì¶œë ¥: sg-0web123

# HTTP ì¸ë°”ìš´ë“œ í—ˆìš© (ì „ì²´ ì¸í„°ë„·ì—ì„œ)
aws ec2 authorize-security-group-ingress \
  --group-id sg-0web123 \
  --protocol tcp \
  --port 80 \
  --cidr 0.0.0.0/0

# HTTPS ì¸ë°”ìš´ë“œ í—ˆìš©
aws ec2 authorize-security-group-ingress \
  --group-id sg-0web123 \
  --protocol tcp \
  --port 443 \
  --cidr 0.0.0.0/0

# SSH ì¸ë°”ìš´ë“œ í—ˆìš© (íŠ¹ì • IPë§Œ)
aws ec2 authorize-security-group-ingress \
  --group-id sg-0web123 \
  --protocol tcp \
  --port 22 \
  --cidr 203.0.113.0/24
```

**ë³´ì•ˆ ê·¸ë£¹ vs NACL ë¹„êµ:**
```
+-------------------+-------------------+-------------------+
| íŠ¹ì„±              | ë³´ì•ˆ ê·¸ë£¹         | NACL              |
+-------------------+-------------------+-------------------+
| ì‘ë™ ë ˆë²¨         | ì¸ìŠ¤í„´ìŠ¤          | ì„œë¸Œë„·            |
| ìƒíƒœ              | Stateful          | Stateless         |
| ê·œì¹™ íƒ€ì…         | Allowë§Œ           | Allow + Deny      |
| ê·œì¹™ í‰ê°€         | ëª¨ë“  ê·œì¹™ í‰ê°€    | ë²ˆí˜¸ ìˆœì„œëŒ€ë¡œ     |
| ì‘ë‹µ íŠ¸ë˜í”½       | ìë™ í—ˆìš©         | ëª…ì‹œì  ê·œì¹™ í•„ìš”  |
| ê¸°ë³¸ ì„¤ì •         | ëª¨ë“  íŠ¸ë˜í”½ ì°¨ë‹¨  | ëª¨ë“  íŠ¸ë˜í”½ í—ˆìš©  |
+-------------------+-------------------+-------------------+

ë°©ì–´ ì „ëµ:
1. NACL: ì„œë¸Œë„· ê²½ê³„ ë°©ì–´ (ê±°ì¹œ í•„í„°ë§, IP ëŒ€ì—­ ì°¨ë‹¨)
2. ë³´ì•ˆ ê·¸ë£¹: ì¸ìŠ¤í„´ìŠ¤ ì„¸ë°€í•œ ì œì–´ (í¬íŠ¸ë³„, ì†ŒìŠ¤ë³„)
```

### (F) VPC Peering ì„¤ì •

**VPC Peering ì—°ê²°:**
```bash
# VPC Peering ìš”ì²­ ìƒì„± (VPC-A â†’ VPC-B)
aws ec2 create-vpc-peering-connection \
  --vpc-id vpc-aaaaa \
  --peer-vpc-id vpc-bbbbb \
  --peer-region ap-northeast-2 \
  --tag-specifications 'ResourceType=vpc-peering-connection,Tags=[{Key=Name,Value=vpc-a-to-vpc-b}]'

# ì¶œë ¥: pcx-0peering123 (ìƒíƒœ: pending-acceptance)

# VPC-Bì—ì„œ Peering ìš”ì²­ ìˆ˜ë½
aws ec2 accept-vpc-peering-connection \
  --vpc-peering-connection-id pcx-0peering123
```

**ë¼ìš°íŒ… í…Œì´ë¸” ì—…ë°ì´íŠ¸ (ì–‘ë°©í–¥):**
```bash
# VPC-Aì˜ ë¼ìš°íŒ… í…Œì´ë¸”: VPC-B CIDR â†’ Peering ì—°ê²°
aws ec2 create-route \
  --route-table-id rtb-vpc-a \
  --destination-cidr-block 10.1.0.0/16 \
  --vpc-peering-connection-id pcx-0peering123

# VPC-Bì˜ ë¼ìš°íŒ… í…Œì´ë¸”: VPC-A CIDR â†’ Peering ì—°ê²°
aws ec2 create-route \
  --route-table-id rtb-vpc-b \
  --destination-cidr-block 10.0.0.0/16 \
  --vpc-peering-connection-id pcx-0peering123
```

### (G) ì‹¤ìŠµ ì‹œë‚˜ë¦¬ì˜¤: ì™„ì „í•œ VPC ë„¤íŠ¸ì›Œí¬ êµ¬ì„±

**ëª©í‘œ: ê³ ê°€ìš©ì„± ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì•„í‚¤í…ì²˜**

```
ì¸í„°ë„·
    |
    | (IGW)
    |
+---+-----------------------------------+
|   VPC: 10.0.0.0/16                  |
|                                      |
|   [Public Subnet 1: 10.0.1.0/24]   |
|     - ALB (Application Load Balancer) AZ-A
|     - NAT Gateway 1                 |
|                                      |
|   [Public Subnet 2: 10.0.2.0/24]   |
|     - ALB AZ-C                      |
|     - NAT Gateway 2                 |
|                                      |
|   [Private Subnet 1: 10.0.11.0/24]  |
|     - Web Server 1 (EC2) AZ-A      |
|                                      |
|   [Private Subnet 2: 10.0.12.0/24]  |
|     - Web Server 2 (EC2) AZ-C      |
|                                      |
|   [Private Subnet 3: 10.0.21.0/24]  |
|     - RDS Primary (AZ-A)            |
|                                      |
|   [Private Subnet 4: 10.0.22.0/24]  |
|     - RDS Standby (AZ-C)            |
+--------------------------------------+
```

---

## 3. ì‹¤ë¬´/ë³´ì•ˆ ê´€ì  ë¶„ì„ (Insight & Scenario Mapping)

| ë¶„ì•¼ | ì ìš© ì‹œë‚˜ë¦¬ì˜¤ |
|:---:|:---|
| **ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜ ì„¤ê³„** | **ë‹¤ì¸µ ë°©ì–´ êµ¬ì¡°**: Public Subnet(ALB/Bastion) â†’ Private Subnet(App Server) â†’ Private Subnet(Database)ë¡œ ê³„ì¸µ ë¶„ë¦¬. ê³µê²©ìê°€ DMZë¥¼ ì¹¨íˆ¬í•´ë„ ë‚´ë¶€ë§ ì ‘ê·¼ ì°¨ë‹¨. **ê³ ê°€ìš©ì„± ì„¤ê³„**: ìµœì†Œ 2ê°œ AZì— ë¦¬ì†ŒìŠ¤ ë¶„ì‚° ë°°ì¹˜. ê° AZë§ˆë‹¤ NAT Gateway êµ¬ì„±ìœ¼ë¡œ AZ ì¥ì•  ì‹œì—ë„ ë‹¤ë¥¸ AZì—ì„œ ì¸í„°ë„· ì ‘ì† ê°€ëŠ¥. **IP ì£¼ì†Œ ê´€ë¦¬**: VPC CIDRì€ ë³€ê²½ ë¶ˆê°€í•˜ë¯€ë¡œ ì´ˆê¸° ì„¤ê³„ ì‹œ ì¶©ë¶„í•œ IP í™•ë³´(/16 ê¶Œì¥). ì„œë¸Œë„·ì€ /24ë¡œ ë¶„í• í•˜ì—¬ 256ê°œ IPì”© í• ë‹¹. |
| **ë³´ì•ˆ ê°•í™” ì „ëµ** | **ìµœì†Œ ê¶Œí•œ ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼**: ë³´ì•ˆ ê·¸ë£¹ì€ í•„ìš”í•œ í¬íŠ¸ì™€ ì†ŒìŠ¤ë§Œ í—ˆìš©(SSHëŠ” Bastionì—ì„œë§Œ). NACLë¡œ ì•Œë ¤ì§„ ê³µê²© IP ëŒ€ì—­ ì°¨ë‹¨. **Bastion Host íŒ¨í„´**: Private Subnet EC2ëŠ” ì§ì ‘ SSH ë¶ˆê°€. Public Subnetì— Bastion Host ë°°ì¹˜ â†’ ì—¬ê¸°ì„œë§Œ Private EC2 ì ‘ì†. **VPC Flow Logs**: ëª¨ë“  ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ë¡œê·¸ë¥¼ S3 ë˜ëŠ” CloudWatchì— ì €ì¥. ì˜ì‹¬ìŠ¤ëŸ¬ìš´ íŠ¸ë˜í”½ íŒ¨í„´ ë¶„ì„, í¬íŠ¸ ìŠ¤ìº” íƒì§€, ë°ì´í„° ìœ ì¶œ ì¶”ì . |
| **í•˜ì´ë¸Œë¦¬ë“œ í´ë¼ìš°ë“œ** | **VPN ì—°ê²°**: On-Premise ë°ì´í„°ì„¼í„°ì™€ VPCë¥¼ Site-to-Site VPNìœ¼ë¡œ ì—°ê²°. ì´ˆê¸° í´ë¼ìš°ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ ë¹ ë¥´ê²Œ êµ¬ì¶•. BGP ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ìë™ ê²½ë¡œ ì—…ë°ì´íŠ¸. **Direct Connect**: ì „ìš©ì„ ìœ¼ë¡œ On-Premiseì™€ AWS ì—°ê²°. ì¼ê´€ëœ ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥, ëŒ€ìš©ëŸ‰ ë°ì´í„° ì „ì†¡. **Transit Gateway í™œìš©**: ì—¬ëŸ¬ VPC, On-Premise, Direct Connectë¥¼ í•˜ë‚˜ì˜ Transit Gatewayì— ì—°ê²°. ì¤‘ì•™ ì§‘ì¤‘ì‹ ë¼ìš°íŒ… ê´€ë¦¬. |
| **ë¹„ìš© ìµœì í™”** | **NAT Gateway ë¹„ìš© ì ˆê°**: NAT GatewayëŠ” ì‹œê°„ë‹¹ + ë°ì´í„° ì²˜ë¦¬ ë¹„ìš©. S3/DynamoDBëŠ” Gateway Endpoint(ë¬´ë£Œ) ì‚¬ìš©. ë‹¤ë¥¸ ì„œë¹„ìŠ¤ëŠ” Interface Endpoint(ì‹œê°„ë‹¹ ë¹„ìš©, ë°ì´í„° ë¬´ë£Œ)ë¡œ NAT ìš°íšŒ. **VPC Peering vs Transit Gateway**: ì†Œìˆ˜ VPC ì—°ê²°ì€ Peering(ë¬´ë£Œ, ë°ì´í„° ì „ì†¡ë§Œ ê³¼ê¸ˆ). ë‹¤ìˆ˜ VPCëŠ” Transit Gateway(ì‹œê°„ë‹¹ + ë°ì´í„° ì²˜ë¦¬ ë¹„ìš©, ê´€ë¦¬ ê°„ì†Œí™”). **Elastic IP ë¹„ìš©**: ì‚¬ìš© ì¤‘ì¸ EIPëŠ” ë¬´ë£Œ, ë¯¸ì‚¬ìš© EIPëŠ” ì‹œê°„ë‹¹ ê³¼ê¸ˆ. |
| **ëª¨ë‹ˆí„°ë§ & íŠ¸ëŸ¬ë¸”ìŠˆíŒ…** | **VPC Flow Logs ë¶„ì„**: ë¹„ì •ìƒ íŠ¸ë˜í”½ íŒ¨í„´ íƒì§€(ì˜ˆ: ì§§ì€ ì‹œê°„ ëŒ€ëŸ‰ ì—°ê²° ì‹œë„). ë³´ì•ˆ ê·¸ë£¹/NACL ì°¨ë‹¨ ë¡œê·¸(REJECT) í™•ì¸ìœ¼ë¡œ ê³µê²© ì‹œë„ íŒŒì•…. Athenaë¡œ ì¿¼ë¦¬: `SELECT * FROM vpc_flow_logs WHERE action='REJECT' AND dstport=22`. **Reachability Analyzer**: ë„¤íŠ¸ì›Œí¬ ê²½ë¡œ ì§„ë‹¨ ë„êµ¬. ì†ŒìŠ¤ì—ì„œ ëª©ì ì§€ê¹Œì§€ ë¼ìš°íŒ… í…Œì´ë¸”, ë³´ì•ˆ ê·¸ë£¹, NACL, IGW/NAT ë“± ëª¨ë“  í™‰ ë¶„ì„. ì—°ê²° ì‹¤íŒ¨ ì›ì¸ ìë™ ì‹ë³„. |

---

## 4. ê°œì¸ ì¸ì‚¬ì´íŠ¸ ë° ë‹¤ìŒ ë‹¨ê³„ (Reflection & Next Steps)

* **ë°°ìš´ ì /ëŠë‚€ ì :**
  - **VPCëŠ” AWS ë„¤íŠ¸ì›Œí¬ì˜ ê¸°ì´ˆ**: ëª¨ë“  ë¦¬ì†ŒìŠ¤ê°€ VPC ì•ˆì—ì„œ ë™ì‘í•˜ë¯€ë¡œ, VPCë¥¼ ì œëŒ€ë¡œ ì„¤ê³„í•˜ì§€ ì•Šìœ¼ë©´ ë‚˜ì¤‘ì— ì•„í‚¤í…ì²˜ ë³€ê²½ì´ ë§¤ìš° ì–´ë µìŠµë‹ˆë‹¤. CIDR ë¸”ë¡ì€ ë³€ê²½ ë¶ˆê°€í•˜ë¯€ë¡œ ì´ˆê¸° IP ì£¼ì†Œ ê³„íšì´ ì¤‘ìš”í•¨ì„ ê¹¨ë‹¬ì•˜ìŠµë‹ˆë‹¤.
  - **Public/Private Subnet ë¶„ë¦¬ì˜ ì¤‘ìš”ì„±**: ì›¹ ì„œë²„ëŠ” Public Subnetì—, ë°ì´í„°ë² ì´ìŠ¤ëŠ” Private Subnetì— ë°°ì¹˜í•˜ì—¬ ê³µê²© í‘œë©´ì„ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ ê¸°ë³¸ì…ë‹ˆë‹¤.
  - **ë³´ì•ˆ ê·¸ë£¹ê³¼ NACLì˜ ì°¨ì´**: ë³´ì•ˆ ê·¸ë£¹ì€ Stateful(ì‘ë‹µ ìë™ í—ˆìš©), NACLì€ Stateless(ëª…ì‹œì  ê·œì¹™ í•„ìš”). ë‘ ê°œë¥¼ ì¡°í•©í•˜ì—¬ ë‹¤ì¸µ ë°©ì–´ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì´ Best Practiceì…ë‹ˆë‹¤.
  - **ë¼ìš°íŒ… í…Œì´ë¸”ì˜ ì—­í• **: íŠ¸ë˜í”½ì´ ì–´ë””ë¡œ ê°€ì•¼ í•˜ëŠ”ì§€ ê²°ì •í•˜ëŠ” í•µì‹¬ ìš”ì†Œì…ë‹ˆë‹¤. Public Subnetì€ IGWë¡œ, Private Subnetì€ NAT Gatewayë¡œ ë¼ìš°íŒ….
  - **VPC Peeringì˜ ì œì•½**: ë¹„ì „ì´ì (Non-transitive)ì´ë¼ëŠ” ì ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. A-B, B-C Peeringì´ ìˆì–´ë„ A-CëŠ” ì§ì ‘ í†µì‹  ë¶ˆê°€. ë‹¤ìˆ˜ VPC ì—°ê²° ì‹œ Transit Gatewayê°€ í›¨ì”¬ íš¨ìœ¨ì ì…ë‹ˆë‹¤.

* **ì‹¬í™” ë°©í–¥:**
  - **AWS Transit Gateway ì‹¤ìŠµ**: ì—¬ëŸ¬ VPCë¥¼ Transit Gatewayë¡œ ì—°ê²°í•˜ê³ , ë¼ìš°íŒ… í…Œì´ë¸”ë¡œ VPC ê°„ í†µì‹  ì œì–´.
  - **VPN ì—°ê²° ì‹¤ìŠµ**: On-Premise ì‹œë®¬ë ˆì´ì…˜(VirtualBox)ê³¼ AWS VPCë¥¼ Site-to-Site VPNìœ¼ë¡œ ì—°ê²°. IPsec í„°ë„ ì„¤ì •, BGP ë™ì  ë¼ìš°íŒ… êµ¬ì„±.
  - **VPC Flow Logs ë¶„ì„**: Flow Logsë¥¼ S3ì— ì €ì¥í•˜ê³  Athenaë¡œ ì¿¼ë¦¬. ì˜ì‹¬ìŠ¤ëŸ¬ìš´ íŠ¸ë˜í”½ íŒ¨í„´(í¬íŠ¸ ìŠ¤ìº”, ëŒ€ëŸ‰ ì—°ê²° ì‹œë„) íƒì§€.
  - **AWS Network Firewall ì‹¤ìŠµ**: Suricata ë£° ì‘ì„±í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ ê³µê²© ì°¨ë‹¨.
  - **Terraformìœ¼ë¡œ VPC ìë™í™”**: VPC ëª¨ë“ˆ ì‘ì„±í•˜ì—¬ ì„œë¸Œë„·, IGW, NAT Gateway, ë¼ìš°íŒ… í…Œì´ë¸”, ë³´ì•ˆ ê·¸ë£¹ì„ ì½”ë“œë¡œ ê´€ë¦¬.

---

## 5. ì¶”ê°€ ì°¸ê³ ì‚¬í•­ (Quick Reference)

### CIDR ë¸”ë¡ ê³„ì‚°í‘œ

| CIDR | ì„œë¸Œë„· ë§ˆìŠ¤í¬ | ì‚¬ìš© ê°€ëŠ¥ IP | ìš©ë„ |
|:---:|:---:|:---:|:---|
| /32 | 255.255.255.255 | 1ê°œ | ë‹¨ì¼ í˜¸ìŠ¤íŠ¸ |
| /28 | 255.255.255.240 | 11ê°œ (16-5) | ë§¤ìš° ì‘ì€ ì„œë¸Œë„· |
| /24 | 255.255.255.0 | 251ê°œ (256-5) | ì¼ë°˜ì ì¸ ì„œë¸Œë„· |
| /20 | 255.255.240.0 | 4,091ê°œ (4096-5) | í° ì„œë¸Œë„· |
| /16 | 255.255.0.0 | 65,531ê°œ (65536-5) | VPC ê¶Œì¥ í¬ê¸° |
| /12 | 255.240.0.0 | 1,048,571ê°œ | ë§¤ìš° í° VPC |
| /8 | 255.0.0.0 | 16,777,211ê°œ | ìµœëŒ€ VPC í¬ê¸° |

### VPC êµ¬ì„± ìš”ì†Œ ì œí•œ (ê¸°ë³¸ê°’)

| ë¦¬ì†ŒìŠ¤ | ì œí•œ | ì¦ê°€ ê°€ëŠ¥ ì—¬ë¶€ |
|:---:|:---:|:---:|
| VPC/ë¦¬ì „ | 5ê°œ | Yes (ìˆ˜ë°± ê°œ) |
| ì„œë¸Œë„·/VPC | 200ê°œ | Yes |
| IGW/VPC | 1ê°œ | No |
| NAT Gateway/AZ | 5ê°œ | Yes |
| VPC Peering ì—°ê²°/VPC | 50ê°œ | Yes (125ê°œ) |
| ë³´ì•ˆ ê·¸ë£¹/VPC | 2,500ê°œ | Yes |
| ë³´ì•ˆ ê·¸ë£¹/ì¸ìŠ¤í„´ìŠ¤ | 5ê°œ | Yes (16ê°œ) |
| ê·œì¹™/ë³´ì•ˆ ê·¸ë£¹ | 60ê°œ (In+Out) | Yes (1000ê°œ) |
| NACL/VPC | 200ê°œ | Yes |
| ê·œì¹™/NACL | 20ê°œ (In+Out) | Yes (40ê°œ) |

### ì£¼ìš” AWS ì„œë¹„ìŠ¤ í¬íŠ¸ (ë³´ì•ˆ ê·¸ë£¹ ì„¤ì •ìš©)

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | í”„ë¡œí† ì½œ | ì„¤ëª… |
|:---:|:---:|:---:|:---|
| SSH | 22 | TCP | Linux ì›ê²© ì ‘ì† (Bastionì—ì„œë§Œ í—ˆìš©) |
| RDP | 3389 | TCP | Windows ì›ê²© ë°ìŠ¤í¬í†± (Bastionì—ì„œë§Œ) |
| HTTP | 80 | TCP | ì›¹ íŠ¸ë˜í”½ (ALBì—ì„œ í—ˆìš©) |
| HTTPS | 443 | TCP | ì•”í˜¸í™” ì›¹ íŠ¸ë˜í”½ (ALBì—ì„œ í—ˆìš©) |
| MySQL/Aurora | 3306 | TCP | ë°ì´í„°ë² ì´ìŠ¤ (App SGì—ì„œë§Œ í—ˆìš©) |
| PostgreSQL | 5432 | TCP | ë°ì´í„°ë² ì´ìŠ¤ (App SGì—ì„œë§Œ í—ˆìš©) |
| Redis | 6379 | TCP | ElastiCache (App SGì—ì„œë§Œ) |
| Custom App | 8080, 8443 | TCP | ì• í”Œë¦¬ì¼€ì´ì…˜ (Web SGì—ì„œë§Œ) |
| NFS | 2049 | TCP | EFS ë§ˆìš´íŠ¸ (App SGì—ì„œë§Œ) |
| DNS | 53 | UDP/TCP | Route 53 (VPC ë‚´ë¶€) |
| Ephemeral | 1024-65535 | TCP | ì‘ë‹µ íŠ¸ë˜í”½ (NACLì—ì„œ í—ˆìš© í•„ìš”) |

### ë³´ì•ˆ ê·¸ë£¹ ì„¤ê³„ íŒ¨í„´

**1. ì›¹ ê³„ì¸µ (ALB/Web Server):**
```
Security Group: web-tier-sg
Inbound:
  - HTTP (80) from 0.0.0.0/0
  - HTTPS (443) from 0.0.0.0/0
Outbound:
  - All traffic (ê¸°ë³¸ê°’)
```

**2. ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ:**
```
Security Group: app-tier-sg
Inbound:
  - Custom TCP (8080) from web-tier-sg
  - Custom TCP (8443) from web-tier-sg
Outbound:
  - MySQL (3306) to db-tier-sg
  - HTTPS (443) to 0.0.0.0/0 (ì™¸ë¶€ API í˜¸ì¶œ)
```

**3. ë°ì´í„°ë² ì´ìŠ¤ ê³„ì¸µ:**
```
Security Group: db-tier-sg
Inbound:
  - MySQL (3306) from app-tier-sg
Outbound:
  - None (ë˜ëŠ” ìµœì†Œ í•„ìš”)
```

**4. Bastion Host:**
```
Security Group: bastion-sg
Inbound:
  - SSH (22) from <ê´€ë¦¬ì IP>/32
Outbound:
  - SSH (22) to app-tier-sg
  - SSH (22) to db-tier-sg
```

### ë„¤íŠ¸ì›Œí¬ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì²´í¬ë¦¬ìŠ¤íŠ¸

```
â˜‘ CIDR ë¸”ë¡ ì¶©ëŒ í™•ì¸ (VPC Peering, On-Premise)
â˜‘ ì„œë¸Œë„·ì´ ì˜¬ë°”ë¥¸ AZì— ë°°ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸
â˜‘ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ê°€ VPCì— ì—°ê²°ë˜ì—ˆëŠ”ì§€ í™•ì¸
â˜‘ NAT Gatewayê°€ Public Subnetì— ìˆê³  EIPê°€ í• ë‹¹ë˜ì—ˆëŠ”ì§€ í™•ì¸
â˜‘ ë¼ìš°íŒ… í…Œì´ë¸”ì´ ì˜¬ë°”ë¥¸ ì„œë¸Œë„·ì— ì—°ê²°ë˜ì—ˆëŠ”ì§€ í™•ì¸
â˜‘ Public Subnet ë¼ìš°íŒ…: 0.0.0.0/0 â†’ IGW
â˜‘ Private Subnet ë¼ìš°íŒ…: 0.0.0.0/0 â†’ NAT Gateway
â˜‘ ë³´ì•ˆ ê·¸ë£¹ ì¸ë°”ìš´ë“œ ê·œì¹™ í™•ì¸ (í•„ìš”í•œ í¬íŠ¸ í—ˆìš©)
â˜‘ NACL ì¸ë°”ìš´ë“œ/ì•„ì›ƒë°”ìš´ë“œ ê·œì¹™ í™•ì¸ (Ephemeral í¬íŠ¸ í—ˆìš©)
â˜‘ EC2 ì¸ìŠ¤í„´ìŠ¤ì— Public IP ë˜ëŠ” EIP í• ë‹¹ í™•ì¸ (Public Subnet)
â˜‘ VPC Peering ì‹œ ì–‘ìª½ ë¼ìš°íŒ… í…Œì´ë¸” ì—…ë°ì´íŠ¸ í™•ì¸
â˜‘ VPC Flow Logsë¡œ REJECT ë¡œê·¸ í™•ì¸
â˜‘ Reachability Analyzerë¡œ ë„¤íŠ¸ì›Œí¬ ê²½ë¡œ ì§„ë‹¨
```
